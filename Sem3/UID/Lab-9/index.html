<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      background-color: black;
      color: aliceblue;
      font-family: Arial, sans-serif;
    }
    h3 {
      text-align: center;
      font-size: 30px;
    }
    .container {
      width: 600px;
      padding: 16px;
      margin: 0 auto;
      margin-top: 50px;
      border: 1px solid aliceblue;
      border-radius: 4px;
    }
    label {
      display: block;
      margin-top: 10px;
    }
    input[type="text"], input[type="tel"], input[type="number"], input[type="password"], input[type="email"], textarea, select {
      width: 100%;
      padding: 5px;
      margin-top: 5px;
    }
    input:valid, textarea:valid, select:valid {
      border: 2px solid green;
    }
    input:invalid, textarea:invalid, select:invalid {
      border: 2px solid red;
    }
    input:out-of-range {
      border: 2px solid orange;
    }
    button {
      margin-top: 10px;
      padding: 10px;
      background-color: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
    }
    .error {
      color: red;
      font-size: 12px;
    }
  </style>
</head>
<body>
  <h3>Sign Up</h3>
  <div class="container">
    <form id="signup">
      <label for="firstname">First name:</label>
      <input type="text" id="firstname" name="firstname" minlength="3" maxlength="10" required>

      <label for="lastname">Last name:</label>
      <input type="text" id="lastname" name="lastname" minlength="3" maxlength="10" required>

      <label for="phone">Phone:</label>
      <input type="tel" id="phone" name="phone" pattern="[0-9]{10}" required>

      <label>Gender:</label>
      <input type="radio" id="male" name="gender" value="male" required>
      <label for="male">Male</label>
      <input type="radio" id="female" name="gender" value="female" required>
      <label for="female">Female</label>

      <label for="age">Age:</label>
      <input type="number" id="age" name="age" min="18" max="21" required>

      <label for="address">Address:</label>
      <textarea id="address" name="address" maxlength="30" required></textarea>

      <label for="city">City:</label>
      <select id="city" name="city" required>
        <option value="" selected disabled>Select a city</option>
        <option value="city1">Coimbatore </option>
        <option value="city2">Chennai</option>
        <option value="city3">Hosur</option>
        <option value="city4">Salem</option>
        <option value="city5">Madurai</option>
        <option value="city6">Bangalore</option>
        <option value="city7">Trichy</option>
        <option value="city8">Walparai</option>
        <option value="city9">Tuticorin</option>
        <option value="city10">Tirunelveli</option>
      </select>

      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required>

      <label for="username">Preferred username:</label>
      <input type="text" id="username" name="username" pattern="^[A-Za-z0-9]{5,8}$" required>

      <label for="password">Password:</label>
      <input type="password" id="password" name="password" pattern="(?=.*\d)(?=.*[A-Z])(?=.*[!@#$%^&*]).{6,11}" required>
      <span id="passwordError" class="error"></span>

      <button type="submit">Register</button>
    </form>
  </div>

  <script>
    document.getElementById('signup').addEventListener('submit', function(event) {
      event.preventDefault();
      
      // Reset error messages
      document.getElementById('passwordError').textContent = '';
      
      // Validate form fields
      var firstname = document.getElementById('firstname').value;
      var lastname = document.getElementById('lastname').value;
      var phone = document.getElementById('phone').value;
      var gender = document.querySelector('input[name="gender"]:checked');
      var age = document.getElementById('age').value;
      var address = document.getElementById('address').value;
      var city = document.getElementById('city').value;
      var email = document.getElementById('email').value;
      var username = document.getElementById('username').value;
      var password = document.getElementById('password').value;

      // Validate email
      if (!validateEmail(email)) {
        alert('Please enter a valid email address.');
        return;
      }

      // Validate password
      if (!validatePassword(password)) {
        document.getElementById('passwordError').textContent = 'Password must be 6-11 characters long, contain at least one uppercase letter, one number, and one special character.';
        return;
      }

      // If all validations pass, you can submit the form
      alert('Form submitted successfully!');
      // Uncomment the line below to actually submit the form
      // this.submit();
    });

    function validateEmail(email) {
      var atIndex = email.indexOf('@');
      var dotIndex = email.lastIndexOf('.');
      return atIndex > 0 && dotIndex > atIndex + 1 && dotIndex < email.length - 1;
    }

    function validatePassword(password) {
      if (password.length < 6 || password.length > 11) return false;
      var hasUpperCase = false;
      var hasNumber = false;
      var hasSpecialChar = false;
      var specialChars = '!@#$%^&*';
      
      for (var i = 0; i < password.length; i++) {
        var char = password[i];
        if (char >= 'A' && char <= 'Z') hasUpperCase = true;
        else if (char >= '0' && char <= '9') hasNumber = true;
        else if (specialChars.indexOf(char) !== -1) hasSpecialChar = true;
      }
      
      return hasUpperCase && hasNumber && hasSpecialChar;
    }
  </script>
</body>
</html>